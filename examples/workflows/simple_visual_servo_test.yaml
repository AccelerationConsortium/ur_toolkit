# Simple Visual Servo Test
# Basic test of visual servoing functionality

workflow_info:
  name: "Simple Visual Servo Test"
  description: "Basic test of visual servoing: home -> observe -> visual servo to grasp -> home"
  version: "1.1"
  author: "Robot System Tools"

steps:
  # Step 1: Move to home position
  - action: movel
    position: safe-home
    speed: 0.2
    description: "Move to safe home position"

  # Step 2: Move to observation position
  - action: movel
    position: right-column-observe
    speed: 0.1
    description: "Move to observation position for right column"

  # Step 3: Wait briefly
  - action: delay
    duration: 1.0
    description: "Wait for robot to settle"

  # Step 4: Visual servo to grasp position
  - action: visual_servo
    position: grasp-B
    speed: 0.05
    type: movel
    description: "Visual servo to grasp-B with AprilTag correction"

  # Step 5: Return to home
  - action: movel
    position: safe-home
    speed: 0.2
    description: "Return to home position"

# Workflow settings
settings:
  safe_mode: true
  step_by_step: true  # Enable step-by-step for testing
  log_poses: true
  emergency_stop_on_error: true